# Builder(빌더패턴)

## 목차

---

- 빌더패턴이란?
- 빌더패턴의 등장 개요
- 빌더패턴을 통한 해결책

## 📔빌더패턴이란?

---

<aside>
💡 **빌더**는 복잡한 객체들을 단계별로 생성할 수 있도록 하는 생성 디자인 패턴입니다. 

이로 인해, 클래스 계층구조를 더 유연하게 관리할 수 있습니다. 이러한 패턴을 사용하면 객체 생성 과정을 캡슐화하고 클라이언트가 객체를 생성하는 방식을 유연하게 변경할 수 있습니다.

</aside>



## 📔개요

---

> 고민 : 많은 필드와 중첩된 객체들을 힘들게 단계별로 초기화해야 하는 복잡한 객체를 상상해보자
>

ex) 집 객체를 만드는 방법

필요한 속성 : 벽, 바닥, 문, 창문, 지붕

→ 이후에 추가로 현대적인 집을 지으려고 든다면?

추가되는 속성 : 난방시스템, 배관, 전기배선 …

이런식으로 최상위 부모(집)을 상속받는 **여러 자식클래스(현대적인 집)를 생성해야 하는 상황이 계속 발생하면** 계층구조가 점점 더 복잡해지고 관리가 어려워진다.

차로 예시를 다시 들어보자

### 🤔먼저 간단한 **`Car`** 클래스를 만듭니다. 이 클래스에는 자동차의 기본적인 특성인 모델, 색상 등이 포함됩니다.

```java
javaCopy code
public class Car {
    private String model;
    private String color;

    // Getter와 Setter 메서드 생략
}

```

### 🤔그 후, 전기차인 경우와 내비게이션 시스템이 추가된 일반 자동차인 경우를 다루기 위해 클래스를 추가합니다.

```java
javaCopy code
// ElectricCar 클래스 정의
public class ElectricCar extends Car {
    private int batteryCapacity;

    // Getter와 Setter 메서드 생략
}

// NavigationCar 클래스 정의
public class NavigationCar extends Car {
    private String navigationSystem;

    // Getter와 Setter 메서드 생략
}

```

### 🤔그런 다음, 전기차이면서 내비게이션 시스템도 있는 경우를 고려하여 클래스를 추가합니다.

```java
javaCopy code
// ElectricNavigationCar 클래스 정의
public class ElectricNavigationCar extends Car {
    private int batteryCapacity;
    private String navigationSystem;

    // Getter와 Setter 메서드 생략
}
```

### 반박!!! 그럼 자식클래스를 늘리지 않고 CAR라는 최상위 부모가 모든 속성을 다 가지고 있으면 되잖아요!!!

⇒ 멍청한 생각

ex) 모든 속성을 다 가질 수 있는 부모 클래스를 생성하게 되면, 자식클래스들은 속성에 대하여 필요성이 없을 수도 있으니 여러 문제가 생긴다.



## 📔해결방안

---

<aside>
💡 나는 계획만 전달하고, 그 계획대로 생성하는건 건축업자(빌더)들에게 시키면 되지 않을까?

</aside>

> 여기서 핵심은 객체의 생성은 건축업자(빌더)가 진행함으로 인하여 객체 생성과정을 분리하여 유연성을 높이는 것!

빌더를 사용 하지 않으면 : 내가 객체의 설계와 생성을 모두 담당(즉, 객체의 생성 코드가 해당 클래스에 포함되어 있어야 한다)

빌더 O : 객체의 생성을 캡슐화하여, 별도의 빌더객체가 객체 생성을 담당함. 그로인하여 추가속성(파라미터)를 조정하거나 새로운 종류의 객체 추가가 용이해짐(필요한 빌더들한테만 일을 시키면 되니까)
>


- 객체를 생성하고 싶으면 빌더객체를 실행하면 됨
- 모든 빌더를 호출할 필요가 없음. 필요한 빌더만 생성함

## 디렉터(빌더 관리자)

---

- 좀 더 추상화하여 빌더 에 대한 일련의 호출을 관리하는 별도의 클래스를 생성할 수 있음
- 디렉터는 빌더들에 대한 제작 순서를 정의함
- 필수상황은 아님. 하지만 추가하면 클라이언트 코드에서(앞딴,js..) 빌더 호출 순서를 조절할 수 있음

## 최종 설계도

---


1. **빌더** 인터페이스는 모든 유형의 빌더들에 공통적인 제품 생성 단계들을 선언합니다.
2. **구상 빌더**들은 생성 단계들의 다양한 구현을 제공합니다. 또 구상 빌더들은 공통 인터페이스를 따르지 않는 제품들도 생산할 수 있습니다.
3. **제품들**은 그 결과로 나온 객체들입니다. 다른 빌더들에 의해 생성된 제품들은 같은 클래스 계층구조 또는 인터페이스에 속할 필요가 없습니다.
4. **디렉터** 클래스는 생성 단계들을 호출하는 순서를 정의하므로 제품들의 특정 설정을 만들고 재사용할 수 있습니다.
5. **클라이언트**는 빌더 객체들 중 하나를 디렉터와 연결해야 합니다. 일반적으로 위 연결은 디렉터 생성자의 매개변수들을 통해 한 번만 수행되며, 그 후 디렉터는 모든 추가 생성에 해당 빌더 객체들을 사용합니다.